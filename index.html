<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unvention Web</title>
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="src/ui/vanilla/styles/main.css?v=20260214-5" />
  </head>
  <body>
    <section id="new-game-screen" class="new-game-screen" aria-label="New game setup">
      <div class="new-game-card">
        <h1>Unvention: International Exhibition</h1>
        <p id="home-step-label" class="mp-status-line">Step 1 of 3</p>
        <section id="home-step-mode" class="mp-setup">
          <h2>Game Mode</h2>
          <div class="mode-toggle" id="game-mode-toggle">
            <button type="button" data-mode="solo" class="mode-toggle__option mode-toggle__option--active">Solo</button>
            <button type="button" data-mode="first" class="mode-toggle__option" disabled>My First (coming soon)</button>
            <button type="button" data-mode="international" class="mode-toggle__option">International</button>
          </div>
          <label for="new-game-seed">Seed (optional)</label>
          <input id="new-game-seed" type="text" placeholder="Leave blank for random seed" />
          <div class="mp-setup__buttons">
            <button id="home-mode-continue" type="button">Continue</button>
          </div>
          <p id="home-mode-hint" class="mp-status-line">Choose a mode to continue.</p>
        </section>
        <section id="home-step-multiplayer" class="mp-setup" style="display:none">
          <h2>Multiplayer Setup</h2>
          <label for="mp-name">Your Name</label>
          <input id="mp-name" type="text" placeholder="Guest" />
          <div class="mp-setup__buttons">
            <button id="home-create-room" type="button">Create New Room</button>
            <button id="home-join-room-step" type="button">Join Room</button>
            <button id="home-back-to-mode" type="button">Back</button>
          </div>
          <p id="mp-connection-status" class="mp-status-line">Offline</p>
        </section>
        <section id="home-step-room-list" class="mp-setup" style="display:none">
          <h2>Available Rooms</h2>
          <div id="mp-room-directory" class="mp-room-directory">
            <table class="mp-room-directory__table">
              <thead>
                <tr>
                  <th>Code</th>
                  <th>Players</th>
                  <th>Status</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="mp-room-directory-body"></tbody>
            </table>
          </div>
          <div class="mp-setup__buttons">
            <button id="home-refresh-rooms" type="button">Refresh Rooms</button>
            <button id="home-back-to-multiplayer" type="button">Back</button>
          </div>
        </section>
        <section id="home-step-waitroom" class="mp-setup" style="display:none">
          <h2>Room Waitroom</h2>
          <label for="waitroom-name">Your Name</label>
          <input id="waitroom-name" type="text" placeholder="Guest" />
          <div class="mp-setup__buttons">
            <button id="waitroom-update-name" type="button">Update Name</button>
            <button id="waitroom-start-game" type="button">Start Game</button>
            <button id="waitroom-cancel-room" type="button">Abandon Room</button>
            <button id="waitroom-leave-room" type="button">Leave Room</button>
          </div>
          <p id="waitroom-status" class="mp-status-line">No room joined.</p>
          <table class="mp-room-directory__table">
            <thead>
              <tr>
                <th>Player</th>
                <th>Status</th>
                <th>Turn</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="waitroom-player-table-body"></tbody>
          </table>
        </section>
        <button id="start-new-game" type="button" style="display:none">New Game</button>
      </div>
    </section>
    <main id="app-shell" class="app" style="display: none">
      <section class="workspace">
        <div class="workspace-head">
          <h1 class="workspace-title">Unvention: International Exhibition</h1>
          <div id="footer-breadcrumb" class="workspace-breadcrumb"></div>
          <nav class="workspace-nav" aria-label="Section shortcuts">
            <a href="#round-roll-panel">Roll</a>
            <a href="#journals-panel">Journals</a>
            <a href="#workshops-panel">Workshops</a>
            <a href="#inventions-panel">Inventions</a>
            <a href="#tools-panel">Tools</a>
          </nav>
          <div class="workspace-actions">
            <div class="workspace-actions__left">
              <div id="phase-expectation" class="phase-expectation"></div>
              <div id="journal-controls" class="journal-controls journal-controls--header"></div>
            </div>
            <div class="workspace-actions__right">
              <button id="advance-phase" type="button">Skip</button>
              <button id="undo-action" type="button" aria-label="Undo">â¤º Undo</button>
            </div>
          </div>
        </div>

        <section id="round-roll-panel" class="round-roll-panel" aria-label="Current round roll">
          <h2>Current Turn Roll</h2>
          <div id="round-roll-container" class="round-roll-container"></div>
        </section>
        <section id="journals-panel" class="journals-panel" aria-label="Player journals">
          <h2>P1 Journals</h2>
          <div id="journals-container" class="journals-container"></div>
        </section>
        <section id="workshops-panel" class="workshops-panel" aria-label="Player workshops">
          <h2>P1 Workshops</h2>
          <div id="workshops-container" class="workshops-container"></div>
        </section>
        <section id="inventions-panel" class="inventions-panel" aria-label="Player inventions">
          <h2>P1 Inventions</h2>
          <div id="inventions-container" class="inventions-container"></div>
        </section>
        <section id="tools-panel" class="tools-panel" aria-label="Player tools">
          <h2>Tools</h2>
          <p class="tools-placeholder">Tool interactions coming next.</p>
        </section>
      </section>

      <aside class="log-sidebar" aria-label="Action log">
        <section id="player-state-panel" class="player-state-panel" aria-label="Player status">
          <h3>Summary</h3>
          <div id="player-state-summary" class="player-state-summary"></div>
          <div id="mp-room-panel" class="mp-room-panel">
            <p id="mp-room-status" class="mp-status-line">No room joined.</p>
            <p id="mp-turn-roll" class="mp-status-line">Turn: - | Roll: -</p>
            <div class="mp-room-panel__buttons">
              <button id="mp-start-game" type="button">Start Room Game</button>
              <button id="mp-leave-room" type="button">Leave Room</button>
            </div>
            <ul id="mp-player-list" class="mp-player-list"></ul>
          </div>
          <button id="reset-game" type="button">Reset Game</button>
        </section>
        <div class="log-header">
          <h2>Action Log</h2>
          <div class="log-header-actions">
            <button id="clear-log" type="button">Clear</button>
          </div>
        </div>
        <div class="log-filters">
          <div id="log-player-filter-tabs" class="log-player-tabs" role="tablist" aria-label="Log player filter">
            <button type="button" class="log-player-tab log-player-tab--active" data-player-filter="all">All</button>
          </div>
        </div>
        <ul id="log-list" class="log-list"></ul>
      </aside>
    </main>
    <script src="src/shared/logLevels.js"></script>
    <script src="src/core/ports/loggerPort.js"></script>
    <script src="src/core/ports/stateStorePort.js"></script>
    <script src="src/adapters/web/inMemoryLogger.js"></script>
    <script src="src/adapters/web/multiplayerClient.js?v=20260214-3"></script>
    <script src="src/adapters/web/localStorageStateStore.js"></script>
    <script src="src/core/services/loggerService.js"></script>
    <script src="src/core/services/gameStateService.js"></script>
    <script src="src/core/services/roundEngineService.js"></script>
    <script src="src/ui/vanilla/components/logSidebar.js?v=20260214-1"></script>
    <script src="src/app/container.js"></script>
    <script src="src/app/bootstrap.js?v=20260214-8"></script>
  </body>
</html>
